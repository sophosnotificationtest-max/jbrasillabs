<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JBrasil Labs - Cybersegurança & Redes</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { darkMode: 'class' }</script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://raw.githubusercontent.com/sophosnotificationtest-max/jbrasillabs/main/logo.png" type="image/png">

    <style>
        body { font-family: 'Orbitron', sans-serif; background: black; color: #00ff00; margin: 0; overflow-x: hidden; }
        
        .logo-container { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 50; transition: 0.8s; }
        .logo-container img { width: 300px; cursor: pointer; filter: drop-shadow(0 0 10px #00ff00); }
        
        .hidden-content { opacity: 0; visibility: hidden; pointer-events: none; }
        .visible-content { opacity: 1; visibility: visible; pointer-events: auto; transition: opacity 1.5s; }

        .glow-card { border: 1px solid #00ff0033; background: rgba(0,0,0,0.8); transition: 0.3s; }
        .glow-card:hover { border-color: #00ff00; box-shadow: 0 0 20px rgba(0,255,0,0.3); transform: translateY(-5px); }

        .neon-button { border: 2px solid #00ff00; color: #00ff00; box-shadow: 0 0 10px #00ff00; padding: 15px 30px; text-transform: uppercase; font-weight: bold; transition: 0.3s; cursor: pointer; }
        .neon-button:hover { background: #00ff00; color: black; box-shadow: 0 0 30px #00ff00; }

        #terminal { position: fixed; bottom: 15px; left: 15px; font-family: monospace; z-index: 60; color: #00ff00; pointer-events: none; }
        .terminal-line { font-size: 13px; margin-bottom: 5px; animation: fadeInUp 0.5s forwards; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        #lang-switch { position: fixed; top: 15px; right: 15px; background: black; color: #00ff00; border: 1px solid #00ff00; padding: 5px; z-index: 100; cursor: pointer; }
        .terminal-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; opacity: 0.03; z-index: -1; pointer-events: none; word-break: break-all; font-family: monospace; }
    </style>
</head>
<body>

<div class="terminal-bg" id="matrix-bg"></div>

<div class="logo-container" id="logo-wrap">
    <img src="https://raw.githubusercontent.com/sophosnotificationtest-max/jbrasillabs/main/logo.png" id="main-logo">
    <p class="mt-4 animate-pulse text-xs">CLIQUE PARA ACESSAR O TERMINAL</p>
</div>

<select id="lang-switch">
    <option value="pt">PT-BR</option>
    <option value="es">ESPAÑOL</option>
</select>

<div id="terminal"></div>

<div id="main-content" class="hidden-content pt-20">
    <section class="flex flex-col items-center text-center px-4 mt-20">
        <h2 id="hero-title" class="text-4xl md:text-6xl font-bold text-green-400 mb-6"></h2>
        <p id="hero-text" class="text-lg text-gray-300 max-w-2xl"></p>
    </section>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto px-6 mt-16">
        <div class="glow-card p-6 rounded"><h3 id="service1-title" class="text-green-300 font-bold mb-2"></h3><p id="service1-text" class="text-sm text-gray-400"></p></div>
        <div class="glow-card p-6 rounded"><h3 id="service2-title" class="text-green-300 font-bold mb-2"></h3><p id="service2-text" class="text-sm text-gray-400"></p></div>
        <div class="glow-card p-6 rounded"><h3 id="service3-title" class="text-green-300 font-bold mb-2"></h3><p id="service3-text" class="text-sm text-gray-400"></p></div>
    </div>

    <div class="text-center mt-20 pb-20">
        <h2 id="contact-title" class="text-3xl text-green-400 mb-6"></h2>
        <p id="contact-text" class="text-gray-300 mb-8"></p>
        <a id="contact-button" href="mailto:jonas.brasil@jbrasillabs.com.br" class="neon-button rounded"></a>
    </div>
</div>

<script>
// Matrix Background Effect
const bg = document.getElementById('matrix-bg');
bg.innerHTML = "01".repeat(1000);

const translations = {
    pt: {
        heroTitle: "Cybersegurança & Redes",
        heroText: "Proteção avançada com Sophos Firewall e suporte especializado.",
        service1Title: "Sophos Firewall", service1Text: "Configuração e migração para máxima proteção de rede.",
        service2Title: "Sophos Central Email", service2Text: "Proteção contra spam e ameaças avançadas de email.",
        service3Title: "Suporte Técnico", service3Text: "Consultoria para toda a América Latina.",
        contactTitle: "Contato", contactText: "Fale com nossos especialistas.", contactButton: "Enviar Email"
    },
    es: {
        heroTitle: "Ciberseguridad & Redes",
        heroText: "Protección avanzada con Sophos Firewall y soporte técnico.",
        service1Title: "Sophos Firewall", service1Text: "Configuración y migración para máxima protección.",
        service2Title: "Sophos Central Email", service2Text: "Protección avanzada contra spam y amenazas.",
        service3Title: "Soporte Técnico", service3Text: "Consultoría para toda Latinoamérica.",
        contactTitle: "Contacto", contactText: "Hable con nuestros especialistas.", contactButton: "Enviar Correo"
    }
};

function applyLang(lang) {
    const t = translations[lang];
    Object.keys(t).forEach(k => {
        const el = document.getElementById(k.replace(/([A-Z])/g, "-$1").toLowerCase());
        if(el) el.textContent = t[k];
    });
}

const userLang = navigator.language.startsWith('es') ? 'es' : 'pt';
document.getElementById('lang-switch').value = userLang;
applyLang(userLang);
document.getElementById('lang-switch').addEventListener('change', (e) => applyLang(e.target.value));

async function getIP() {
    try {
        const res = await fetch('https://ipwho.is/');
        const data = await res.json();
        return `${data.ip} (${data.country})`;
    } catch { return "Unknown (Global)"; }
}

async function sendToSOC(msg) {
    try {
        await fetch('https://jbrasillabs-1.onrender.com/log', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ entry: msg })
        });
    } catch(e) {}
}

function logTerminal(msg) {
    const p = document.createElement('p');
    p.className = 'terminal-line';
    p.textContent = `> ${msg}`;
    document.getElementById('terminal').appendChild(p);
    setTimeout(() => p.remove(), 5000);
}

document.getElementById('main-logo').addEventListener('click', async () => {
    document.getElementById('logo-wrap').style.display = 'none';
    document.getElementById('main-content').classList.remove('hidden-content');
    document.getElementById('main-content').classList.add('visible-content');
    
    const info = await getIP();
    const logMsg = `[SOC] ACCESS GRANTED: ${info}`;
    logTerminal(logMsg);
    sendToSOC(logMsg);
});
</script>
</body>
</html>
